{% extends "base_sidebar.html" %}

{% block title %}System Settings â€” Overview{% endblock %}

{% block content %}
<div class="mx-auto" style="max-width: 920px;">
  <div class="og-card p-4 mb-3">
    <h1 class="h5 mb-2">System Settings</h1>
    <p class="text-muted mb-0">
      Manage global settings for email delivery and Gitea integration.
      Only superusers can access this area.
    </p>
  </div>

  <div class="row g-3">
    <!-- Email card -->
    <div class="col-md-6">
      <div class="og-card p-3 h-100 d-flex flex-column">
        <div class="d-flex align-items-center mb-2">
          <span style="font-size: 1.6rem; margin-right:.5rem;">ğŸ“§</span>
          <div>
            <h2 class="h6 mb-0">Email Settings</h2>
            <small class="text-muted">SMTP / password reset / notifications</small>
          </div>
        </div>

        <ul class="list-unstyled small text-muted mb-3">
          <li><strong>Host:</strong> {{ email_summary.host }}</li>
          <li><strong>Port:</strong> {{ email_summary.port }}</li>
          <li><strong>From:</strong> {{ email_summary.default_from_email }}</li>
        </ul>

        <div class="mt-auto">
          <a href="{% url 'system_settings:email_settings' %}" class="btn btn-primary btn-sm">
            Configure email
          </a>
        </div>
      </div>
    </div>

    <!-- Gitea card -->
    <div class="col-md-6">
      <div class="og-card p-3 h-100 d-flex flex-column">
        <div class="d-flex align-items-center mb-2">
          <span style="font-size: 1.6rem; margin-right:.5rem;">ğŸ™</span>
          <div>
            <h2 class="h6 mb-0">Gitea Settings</h2>
            <small class="text-muted">Local stack or external Gitea</small>
          </div>
        </div>

        <ul class="list-unstyled small text-muted mb-3">
          <li>
            <strong>Mode:</strong>
            {% if gitea_summary.use_external_gitea %}
              External Gitea
            {% else %}
              Local Docker stack
            {% endif %}
          </li>
          <li><strong>Base URL:</strong> {{ gitea_summary.base_url|default:"â€”" }}</li>
          <li><strong>Admin user:</strong> {{ gitea_summary.admin_user|default:"â€”" }}</li>
        </ul>

        <div class="mt-auto">
          <a href="{% url 'system_settings:gitea_settings' %}" class="btn btn-primary btn-sm">
            Configure Gitea
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
